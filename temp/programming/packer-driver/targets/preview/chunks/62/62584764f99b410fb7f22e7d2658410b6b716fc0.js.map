{"version":3,"sources":["file:///D:/PROJECT/stackground/assets/Scripts/Extention/Continuous.ts"],"names":["_decorator","Component","ccclass","property","Continuous","totalElapsedTime","funcStart","funcEnd","time","Call","actionStart","actionEnd","schedule","handle","dt","unschedule"],"mappings":";;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;;;;;;;;;OACf;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBH,U;;4BAGjBI,U,WADZF,OAAO,CAAC,YAAD,C,gBAAR,MACaE,UADb,SACgCH,SADhC,CAC0C;AAAA;AAAA;AAAA,eAC9BI,gBAD8B,GACX,CADW;AAAA,eAE9BC,SAF8B;AAAA,eAG9BC,OAH8B;AAAA,eAI9BC,IAJ8B;AAAA;;AAM/BC,QAAAA,IAAI,CAACC,WAAD,EAAwBC,SAAxB,EAA6CH,IAA7C,EAAiE;AACxE,eAAKF,SAAL,GAAiBI,WAAjB;AACA,eAAKH,OAAL,GAAeI,SAAf;AACA,eAAKH,IAAL,GAAYA,IAAZ;AACA,eAAKI,QAAL,CAAc,KAAKC,MAAnB,EAA2B,CAA3B;AACH;;AAEOA,QAAAA,MAAM,CAACC,EAAD,EAAmB;AAC7B,eAAKT,gBAAL,IAAyBS,EAAzB;;AACA,cAAI,KAAKT,gBAAL,GAAwB,KAAKG,IAAjC,EAAuC;AACnC,iBAAKF,SAAL;AACH,WAFD,MAGK;AACD,iBAAKD,gBAAL,GAAwB,CAAxB;;AACA,gBAAI,KAAKE,OAAT,EAAkB;AACd,mBAAKA,OAAL;AACH;;AACD,iBAAKQ,UAAL,CAAgB,KAAKF,MAArB;AACH;AACJ;;AAzBqC,O","sourcesContent":["import { _decorator, Component, Node } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('Continuous')\r\nexport class Continuous extends Component {\r\n    private totalElapsedTime = 0;\r\n    private funcStart: Function;\r\n    private funcEnd: Function;\r\n    private time: number;\r\n\r\n    public Call(actionStart: Function, actionEnd: Function, time: number): void {\r\n        this.funcStart = actionStart;\r\n        this.funcEnd = actionEnd;\r\n        this.time = time;\r\n        this.schedule(this.handle, 0);\r\n    } \r\n\r\n    private handle(dt: number): void {\r\n        this.totalElapsedTime += dt;\r\n        if (this.totalElapsedTime < this.time) {\r\n            this.funcStart();\r\n        }\r\n        else {\r\n            this.totalElapsedTime = 0;\r\n            if (this.funcEnd) {\r\n                this.funcEnd();\r\n            }\r\n            this.unschedule(this.handle);\r\n        }\r\n    }\r\n\r\n}\r\n\r\n\r\n"]}